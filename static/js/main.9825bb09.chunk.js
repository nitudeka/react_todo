(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{26:function(e,a,t){e.exports=t(38)},34:function(e,a,t){},38:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),s=t(21),o=t.n(s),l=t(13),c=t(22),i=t(5),m=t(42),u=t(4),d={name:"",inputValue:"",email:"",tasks:[],modalShown:!1,taskProgress:[],isPending:!1,errMsg:!1},p=(t(34),t(7)),h=t(8),f=t(10),g=t(9),E=t(11),v=t(36),_=function(e,a,t,n){e({type:"GET_TASKS_PENDING"}),fetch("https://reacttodoapi.herokuapp.com/".concat(t),{method:n,headers:{"Content-Type":"application/json",authorization:window.localStorage.getItem("token")},body:JSON.stringify({task:a})}).then(function(e){return e.json()}).then(function(a){"object"===typeof a&&e({type:"GET_TASKS_SUCCESS",payload:a})}).catch(function(a){return e({type:"GET_TASKS_FAILED",payload:a})})},k=function(e,a,t,n){return function(r){r({type:"AUTHENTICATING_USER_PENDING"}),fetch("https://reacttodoapi.herokuapp.com/".concat(n),{method:"post",headers:{"content-type":"application/json"},body:JSON.stringify({email:e,password:a,name:t})}).then(function(e){return e.json()}).then(function(e){"object"===typeof e?(localStorage.setItem("token",e.token),r({type:"AUTHENTICATING_USER_SUCCESS"})):r({type:"AUTHENTICATING_USER_FAILED",payload:e})}).catch(function(e){r({type:"AUTHENTICATING_USER_FAILED"})})}},b=t(40),N=t(43),w=function(e){var a={};return e.focused&&(a=e.valid?{borderBottom:"3px solid #007e33"}:{borderBottom:"3px solid #ff3547"}),r.a.createElement("div",{className:"form__inputs"},r.a.createElement("input",{style:a,className:"form__input",type:e.type,placeholder:e.placeholder,onChange:e.onChange}),r.a.createElement("label",{className:"form__label"},e.label))},y=t(39),T="",S=function(e,a){var t=!0;a.required&&(t=""!==e.trim()&&t),a.minLength&&(t=e.length>=a.minLength&&t),a.isEmail&&(t=/[a-z0-9!#$%&'*+\/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+\/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/.test(e)&&t);return a.password&&(T=e),a.repeatPassword&&(t=T===e),t},O=function(e){function a(){var e,t;Object(p.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(t=Object(f.a)(this,(e=Object(g.a)(a)).call.apply(e,[this].concat(r)))).state={form:{email:{label:"Your email",type:"text",placeholder:"Your email",value:"",validation:{required:!0,isEmail:!0},valid:!1,focused:!1},password:{label:"Your Password",type:"password",placeholder:"Your password",value:"",validation:{required:!0,minLength:6},valid:!1,focused:!1}},errorMessage:null,formIsValid:!1},t.onInputChange=function(e,a){var n=Object(u.a)({},t.state.form),r=Object(u.a)({},n[a]);r.value=e.target.value,r.focused=!0,r.valid=S(e.target.value,r.validation),n[a]=r;var s=!0;Object.keys(n).map(function(e){return s=n[e].valid&&s}),t.setState({form:n,formIsValid:s})},t}return Object(E.a)(a,e),Object(h.a)(a,[{key:"render",value:function(){var e=this,a=Object.keys(this.state.form).map(function(a){return r.a.createElement(w,{valid:e.state.form[a].valid,focused:e.state.form[a].focused,key:a,placeholder:e.state.form[a].placeholder,type:e.state.form[a].type,label:e.state.form[a].label,onChange:function(t){return e.onInputChange(t,a)}})});return r.a.createElement("div",{className:"form"},r.a.createElement("div",{className:"form__head"},r.a.createElement("div",{className:"form__heading"},r.a.createElement("span",{className:"form__heading--main"},"Signin"),r.a.createElement("span",{className:"form__heading--sub"},this.props.errMsg))),a,r.a.createElement("button",{disabled:!this.state.formIsValid,onClick:function(){e.props.signinHandler(e.state.form.email.value,e.state.form.password.value)},className:"form__btn"},"I am back!"))}}]),a}(n.Component),C=Object(y.a)(Object(i.b)(function(e){return{email:e.email,errMsg:e.errMsg}},function(e){return{signinHandler:function(a,t){return e(k(a,t,null,"login"))}}})(O)),j=function(e){function a(){var e,t;Object(p.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(t=Object(f.a)(this,(e=Object(g.a)(a)).call.apply(e,[this].concat(r)))).state={form:{name:{label:"Your name",type:"text",placeholder:"Your name",value:"",validation:{required:!0},valid:!1,focused:!1},email:{label:"Your email",type:"email",placeholder:"Your email",value:"",validation:{required:!0,isEmail:!0},valid:!1,focused:!1},password:{label:"Your Password (min-6)",type:"password",placeholder:"Your password (min-6)",value:"",validation:{required:!0,minLength:6,password:!0},valid:!1,focused:!1},repeatPassword:{label:"Repeat password",type:"password",placeholder:"Repeat password",value:"",validation:{required:!0,minLength:6,repeatPassword:!0},valid:!1,focused:!1}},errorMessage:null,formIsValid:!1},t.onInputChange=function(e,a){var n=Object(u.a)({},t.state.form),r=Object(u.a)({},n[a]);r.value=e.target.value,r.focused=!0,r.valid=S(e.target.value,r.validation),n[a]=r;var s=!0;Object.keys(n).map(function(e){return s=n[e].valid&&s}),t.setState({form:n,formIsValid:s})},t}return Object(E.a)(a,e),Object(h.a)(a,[{key:"render",value:function(){var e=this,a=Object.keys(this.state.form).map(function(a){return r.a.createElement(w,{valid:e.state.form[a].valid,focused:e.state.form[a].focused,key:a,placeholder:e.state.form[a].placeholder,type:e.state.form[a].type,label:e.state.form[a].label,onChange:function(t){return e.onInputChange(t,a)}})});return r.a.createElement("div",{className:"form"},r.a.createElement("div",{className:"form__head"},r.a.createElement("div",{className:"form__heading"},r.a.createElement("span",{className:"form__heading--main"},"Register"),r.a.createElement("span",{className:"form__heading--sub"},this.props.errMsg))),a,r.a.createElement("button",{disabled:!this.state.formIsValid,onClick:function(){e.props.signinHandler(e.state.form.email.value,e.state.form.password.value,e.state.form.name.value)},className:"form__btn"},"Take me in!"))}}]),a}(n.Component),I=Object(y.a)(Object(i.b)(function(e){return{email:e.email,errMsg:e.errMsg}},function(e){return{signinHandler:function(a,t,n){return e(k(a,t,n,"register"))}}})(j)),A=function(e){switch(e.name){case"cross":return r.a.createElement("svg",{onClick:e.onClick,className:e.className,version:"1.1",id:"Capa_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 339.177 339.177",xmlSpace:"preserve"},r.a.createElement("g",null,r.a.createElement("path",{d:"M247.244,169.59l83.938-83.938c5.332-5.327,7.994-11.798,7.994-19.414c0-7.614-2.669-14.084-7.994-19.414L292.355,7.993 C287.026,2.665,280.556,0,272.944,0c-7.617,0-14.085,2.665-19.417,7.993L169.59,91.931L85.651,7.993 C80.325,2.665,73.854,0,66.237,0c-7.611,0-14.083,2.665-19.414,7.993L7.994,46.824C2.667,52.15,0,58.624,0,66.238 c0,7.616,2.664,14.084,7.994,19.414l83.937,83.938L7.994,253.528C2.667,258.859,0,265.327,0,272.945 c0,7.61,2.664,14.082,7.994,19.41l38.83,38.828c5.33,5.332,11.803,7.994,19.414,7.994c7.616,0,14.084-2.669,19.414-7.994 l83.939-83.938l83.944,83.938c5.328,5.332,11.793,7.994,19.417,7.994c7.611,0,14.082-2.669,19.411-7.994l38.82-38.828 c5.332-5.324,7.994-11.8,7.994-19.41c0-7.618-2.662-14.086-7.994-19.417L247.244,169.59z"})));case"check":return r.a.createElement("svg",{onClick:e.onClick,className:e.className,version:"1.1",id:"Capa_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 442.533 442.533",xmlSpace:"preserve"},r.a.createElement("g",null,r.a.createElement("path",{d:"M434.539,98.499l-38.828-38.828c-5.324-5.328-11.799-7.993-19.41-7.993c-7.618,0-14.093,2.665-19.417,7.993L169.59,247.248 l-83.939-84.225c-5.33-5.33-11.801-7.992-19.412-7.992c-7.616,0-14.087,2.662-19.417,7.992L7.994,201.852 C2.664,207.181,0,213.654,0,221.269c0,7.609,2.664,14.088,7.994,19.416l103.351,103.349l38.831,38.828 c5.327,5.332,11.8,7.994,19.414,7.994c7.611,0,14.084-2.669,19.414-7.994l38.83-38.828L434.539,137.33 c5.325-5.33,7.994-11.802,7.994-19.417C442.537,110.302,439.864,103.829,434.539,98.499z"})));default:return null}},P=function(e){function a(){return Object(p.a)(this,a),Object(f.a)(this,Object(g.a)(a).apply(this,arguments))}return Object(E.a)(a,e),Object(h.a)(a,[{key:"componentDidMount",value:function(){this.props.getTasks()}},{key:"render",value:function(){var e=this,a=r.a.createElement("span",{className:"home__warning"},"Please start adding tasks!!");this.props.tasks.length>0&&(a=this.props.tasks.map(function(a){return r.a.createElement("li",{className:"home__task",key:a},r.a.createElement("span",{className:"task__name"},a),r.a.createElement("div",{className:"home__svg-container"},r.a.createElement(A,{onClick:function(){return e.props.completeTask(a)},name:"check",className:"home__svg home__svg--check"}),r.a.createElement(A,{onClick:function(){return e.props.deleteTask(a)},name:"cross",className:"home__svg home__svg--cross"})))}));var t=r.a.createElement("span",{className:"home__warning"},"Please start adding tasks!!");return this.props.taskProgress.length>0&&(t=this.props.taskProgress.map(function(e,a){return r.a.createElement("li",{key:a,className:"home__task"},r.a.createElement("span",{className:"task__name"},e))})),r.a.createElement("div",{className:"home"},r.a.createElement("div",{className:"home__tasks"},r.a.createElement("div",{className:"home__header"},r.a.createElement("span",{className:"home__heading"},"Your tasks")),r.a.createElement("ol",{className:"home__tasks-container"},a)),r.a.createElement("div",{className:"home__tasks"},r.a.createElement("div",{className:"home__header"},r.a.createElement("span",{className:"home__heading"},"Task Progress")),r.a.createElement("ol",{className:"home__tasks-container"},t)))}}]),a}(n.Component),G=Object(i.b)(function(e){return{tasks:e.tasks,taskProgress:e.taskProgress}},function(e){return{getTasks:function(){return _(e,null,"tasks","GET")},completeTask:function(a){return _(e,a,"taskCompleted","POST")},deleteTask:function(a){return _(e,a,"deleteTask","POST")}}})(P),x=function(e){return r.a.createElement("div",null,r.a.createElement(b.a,{path:"/react_todo/signin",render:function(){return null===window.localStorage.getItem("token")?r.a.createElement(C,null):r.a.createElement(N.a,{to:"/"})}}),r.a.createElement(b.a,{path:"/react_todo/register",render:function(){return null===window.localStorage.getItem("token")?r.a.createElement(I,null):r.a.createElement(N.a,{to:"/"})}}),r.a.createElement(b.a,{exact:!0,path:"/react_todo/",render:function(){return null!==window.localStorage.getItem("token")?r.a.createElement(G,null):r.a.createElement(N.a,{to:"/signin"})}}))},L=function(e){var a={visibility:e.visible?"visible":"hidden"};return r.a.createElement("div",{style:a,className:"sk-three-bounce"},r.a.createElement("div",{className:"sk-child sk-bounce1"}),r.a.createElement("div",{className:"sk-child sk-bounce2"}),r.a.createElement("div",{className:"sk-child sk-bounce3"}))},M=t(41),U=Object(i.b)(null,function(e){return{resetState:function(){return e({type:"RESET_STATE"})}}})(function(e){return r.a.createElement(M.a,{style:{textDecoration:"none"},to:e.route},r.a.createElement("li",{onClick:function(){e.resetState(),fetch("https://reacttodoapi.herokuapp.com/signout",{mathod:"get",headers:{authorization:window.localStorage.getItem("token")}}),window.localStorage.clear()},className:"nav__item"},e.link))}),H=Object(v.a)(function(e){var a=r.a.createElement(U,{route:"/react_todo/signin",link:"Signout"}),t=r.a.createElement("li",{onClick:e.changeModalState,className:"nav__item"},"New Task");return"/signin"===e.location.pathname?(t=null,a=r.a.createElement(U,{route:"/react_todo/register",link:"Register"})):"/register"===e.location.pathname&&(t=null,a=r.a.createElement(U,{route:"/react_todo/signin",link:"Signin"})),r.a.createElement("nav",{className:"nav"},r.a.createElement("span",{className:"nav__heading"},"TODO"),r.a.createElement("ul",{className:"nav__list"},a,t))}),V=function(e){var a=["backdrop"];return e.show?a.push("backdrop--show"):a.push("backdrop--hide"),r.a.createElement("div",{onClick:e.onClick,className:a.join(" ")},e.children)},D=function(e){var a=["modal"];return e.modalIsVisible?a.push("modal--show"):a.push("modal--hide"),r.a.createElement("div",null,r.a.createElement(V,{onClick:e.onClick,show:e.modalIsVisible}),r.a.createElement("div",{className:a.join(" ")},e.children))},R=function(e){function a(){var e,t;Object(p.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(t=Object(f.a)(this,(e=Object(g.a)(a)).call.apply(e,[this].concat(r)))).addTaskHandler=function(){t.props.inputValue.length>0&&t.props.addNewTask(t.props.inputValue)},t}return Object(E.a)(a,e),Object(h.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(H,{changeModalState:this.props.toggleModalState}),r.a.createElement(L,{visible:this.props.isPending}),r.a.createElement(D,{onClick:this.props.toggleModalState,modalIsVisible:this.props.modalShown},r.a.createElement("div",{className:"inputs"},r.a.createElement("input",{onChange:this.props.getInputChange,className:"input__input",type:"text",placeholder:"Enter your new task here!"}),r.a.createElement("button",{onClick:this.addTaskHandler,className:"input__button"},"Add"))),r.a.createElement(x,null))}}]),a}(n.Component),z=Object(v.a)(Object(i.b)(function(e){return{isPending:e.isPending,inputValue:e.inputValue,modalShown:e.modalShown}},function(e){return{getInputChange:function(a){return e({type:"GET_INPUT_CHANGE",payload:a.target.value})},getTasks:function(){return _(e,null,"tasks","GET")},toggleModalState:function(){return e({type:"TOGGLE_MODAL"})},addNewTask:function(a){return _(e,a,"newTask","POST")}}})(R));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Y=Object(l.c)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(a.type){case"GET_INPUT_CHANGE":return Object(u.a)({},e,{inputValue:a.payload});case"RESET_STATE":return Object(u.a)({},e,{errMsg:!1});case"CHANGE_SPINNER_STATE":return Object(u.a)({},e,{isPending:!e.isPending});case"TOGGLE_MODAL":return Object(u.a)({},e,{modalShown:!e.modalShown});case"GET_TASKS_PENDING":return Object(u.a)({},e,{isPending:!0});case"GET_TASKS_SUCCESS":var t=Object.keys(a.payload),n=t.map(function(e){return a.payload[e]});return Object(u.a)({},e,{isPending:!1,tasks:t,taskProgress:n});case"GET_TASKS_FAILED":return Object(u.a)({},e,{isPending:!1,err:a.payload});case"AUTHENTICATING_USER_PENDING":return Object(u.a)({},e,{isPending:!0});case"AUTHENTICATING_USER_SUCCESS":return Object(u.a)({},e,{isPending:!1});case"AUTHENTICATING_USER_FAILED":return Object(u.a)({},e,{isPending:!1,errMsg:a.payload});default:return e}},Object(l.a)(c.a));o.a.render(r.a.createElement(m.a,null,r.a.createElement(i.a,{store:Y},r.a.createElement(z,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[26,2,1]]]);
//# sourceMappingURL=main.9825bb09.chunk.js.map